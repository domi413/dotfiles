{
  // EXPLORER
  "explorer.autoReveal": false,
  "explorer.confirmDelete": false,
  "explorer.confirmDragAndDrop": false,
  "explorer.decorations.colors": false,

  // WORKBENCH
  "workbench.activityBar.location": "top",
  "workbench.editor.labelFormat": "default",
  "workbench.iconTheme": "catppuccin-mocha",
  "workbench.list.smoothScrolling": true,
  "workbench.navigationControl.enabled": false,
  "workbench.preferredLightColorTheme": "Catppuccin Latte",
  "workbench.startupEditor": "newUntitledFile",
  "workbench.tree.indent": 20,

  // EDITOR
  "editor.autoClosingOvertype": "always",
  "editor.cursorBlinking": "solid",
  "editor.cursorSmoothCaretAnimation": "off",
  "editor.fontFamily": "CaskaydiaCove Nerd Font",
  "editor.fontLigatures": "'ss19'",
  "editor.fontWeight": "340",
  "editor.tokenColorCustomizations": {
    "textMateRules": [
      {
        "scope": [
          "comment",
          "entity.name.type.class", //class names
          "constant", //String, Number, Boolean…, this, super
          "storage.modifier", //static keyword
          "storage.type.class.js", //class keyword
          "keyword", //import, export, return…
          "text" // text
        ],
        "settings": {
          "fontStyle": "italic"
        }
      }
    ]
  },
  "editor.inlayHints.enabled": "off",
  "editor.lineNumbers": "relative",
  "editor.minimap.enabled": false,
  "editor.mouseWheelZoom": true, // Use ctrl + mouse wheel to zoom
  "editor.scrollbar.horizontalScrollbarSize": 0,
  "editor.scrollbar.verticalScrollbarSize": 0,
  "editor.smoothScrolling": true,
  "editor.stickyScroll.enabled": false,
  "editor.suggest.showWords": false,

  // OTHER
  "chat.commandCenter.enabled": false,
  "debug.inlineValues": "on",
  "git.blame.editorDecoration.enabled": true,
  "git.blame.editorDecoration.template": "${authorName} - ${hashShort}",
  "git.enableSmartCommit": true,
  "security.workspace.trust.untrustedFiles": "open",
  "terminal.integrated.enableMultiLinePasteWarning": "never",
  "window.autoDetectColorScheme": true,
  "window.customTitleBarVisibility": "auto",
  "window.titleBarStyle": "custom", // Use the default VS Code title bar

  // Formatter
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "[c]": {
    "editor.defaultFormatter": "llvm-vs-code-extensions.vscode-clangd",
    // "editor.defaultFormatter": "ms-vscode.cpptools"
    "editor.formatOnSave": true
  },
  "[cpp]": {
    "editor.defaultFormatter": "llvm-vs-code-extensions.vscode-clangd",
    // "editor.defaultFormatter": "ms-vscode.cpptools"
    "editor.formatOnSave": true
  },
  "[java]": {
    "editor.defaultFormatter": "redhat.java"
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.formatOnSave": true
  },
  "[latex]": {
    "editor.defaultFormatter": "James-Yu.latex-workshop",
    "editor.formatOnSave": true
  },
  "[lua]": {
    "editor.defaultFormatter": "sumneko.lua"
  },
  "[python]": {
    "editor.codeActionsOnSave": {
      "source.organizeImports": "explicit"
    },
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.formatOnSave": true
  },

  // *** CMake ***
  "cmake.options.statusBarVisibility": "icon",
  "cmake.pinnedCommands": [
    "workbench.action.tasks.configureTaskRunner",
    "workbench.action.tasks.runTask"
  ],
  "cmake.showConfigureWithDebuggerNotification": false,

  // *** Scroll percentage ***
  "scroll-percentage.cursor": "cursor",

  // *** Error lens ***
  "errorLens.messageBackgroundMode": "message",
  "errorLens.messageTemplate": " ● $message",
  "errorLens.enabledDiagnosticLevels": ["warning", "error"],

  // *** TODO Tree ***
  "todo-tree.highlights.defaultHighlight": {
    "icon": "check",
    "type": "text",
    "foreground": "#89dcec",
    "iconColour": "#89dcec"
  },
  "todo-tree.highlights.customHighlight": {
    "TODO": {
      "icon": "check",
      "iconColour": "#89dcec",
      "gutterIcon": true
    },
    "FIXME": {
      "icon": "bug",
      "iconColour": "#f38ba9",
      "foreground": "#f38ba9",
      "gutterIcon": true
    }
  },

  // *** GO ***
  "go.lintTool": "golangci-lint",
  "go.lintFlags": ["--path-mode=abs", "--fast-only"],
  "go.formatTool": "custom",
  "go.alternateTools": {
    "customFormatter": "golangci-lint"
  },
  "go.formatFlags": ["fmt", "--stdin"],
  "go.toolsManagement.autoUpdate": true,
  "[go]": {
    "editor.defaultFormatter": "golang.go"
  },

  // *** JAVA ***
  "redhat.telemetry.enabled": false,

  // *** PYLANCE ***
  "python.analysis.inlayHints.functionReturnTypes": true,
  "python.analysis.typeCheckingMode": "standard",

  // *** LATEX ***
  "latex-workshop.intellisense.unimathsymbols.enabled": true,
  "latex-workshop.latex.clean.method": "glob",
  "latex-workshop.latex.clean.subfolder.enabled": true,
  "latex-workshop.formatting.latex": "latexindent",
  "latex-workshop.formatting.latexindent.path": "latexindent",
  "latex-workshop.formatting.latexindent.args": [
    "-c",
    "%DIR%/",
    "%TMPFILE%",
    // "-l=/path/to/file",
    "-l",
    "-m",
    "-rv"
  ],
  "latex-workshop.latex.recipe.default": "tectonic",
  "latex-workshop.latex.rootFile.indicator": "\\begin{document}",
  "latex-workshop.view.pdf.invert": 1,
  "latex-workshop.view.pdf.internal.synctex.keybinding": "double-click",
  "latex-workshop.synctex.afterBuild.enabled": true,

  // *** C/CPP ***
  // Ensure that gdb & gcc are installed
  "C_Cpp.suggestSnippets": false,
  "C_Cpp.autocompleteAddParentheses": true,
  "C_Cpp.clang_format_fallbackStyle": "{\"BasedOnStyle\": \"LLVM\", \"IndentWidth\": 4, \"TabWidth\": 4}",
  "C_Cpp.default.compilerPath": "",
  "C_Cpp.default.includePath": ["/usr/include"],
  "C_Cpp.inlayHints.parameterNames.enabled": true,
  // "C_Cpp.intelliSenseEngine": "disabled",

  // *** CODEIUM ***
  "codeium.enableCodeLens": false,
  "codeium.enableConfig": {
    "*": true,
    "html": false,
    "plaintext": true,
    "cpp": false
  },

  // ╭──────────────────────────────────────────────────────────╮
  // │ ***** VIM KEYBINDINGS *****                              │
  // ╰──────────────────────────────────────────────────────────╯
  "flash-vscode.caseSensitive": false,
  "vim.leader": "space", // Set space as leader
  "vim.useSystemClipboard": true, // Enables copy to system clipboard
  "vim.useCtrlKeys": true, // Override default behavior of ctrl keys
  "vim.hlsearch": true, // Highlight search results
  "extensions.experimental.affinity": {
    // To improve performance
    "vscodevim.vim": 1
  },

  // ╭──────────────────────────────────────────────────────────╮
  // │ Editor/Editing                                           │
  // ╰──────────────────────────────────────────────────────────╯
  "vim.insertModeKeyBindings": [{ "before": ["j", "k"], "after": ["<Esc>"] }], // Use jk to exit insert mode
  "vim.visualModeKeyBindings": [{ "before": ["leader", "i"], "after": ["~"] }], // Toggle case
  "vim.normalModeKeyBindingsNonRecursive": [
    // Flash.nvim
    { "before": ["s"], "commands": ["flash-vscode.start"] },
    { "before": ["<BS>"], "commands": ["flash-vscode.backspace"] },

    { "before": ["K"], "after": ["g", "h"] } // Show definition
  ],
  "vim.normalModeKeyBindings": [
    { "before": ["Y"], "after": ["y", "$"] }, // Use neovim-like yank
    {
      // New line below
      "before": ["leader", "o"],
      "commands": ["editor.action.insertLineAfter"]
    },
    {
      // New line above
      "before": ["leader", "O"],
      "commands": ["editor.action.insertLineBefore"]
    },
    { "before": ["leader", "i"], "after": ["~"] }, // Toggle case
    { "before": ["leader", "n", "h"], "commands": [":nohl"] }, // Reset highlighting
    { "before": ["leader", "w"], "commands": ["workbench.action.files.save"] }, // Save file
    { "before": ["leader", "$"], "commands": ["editor.action.toggleWordWrap"] }, // Toggle line wrap
    {
      // Toggle breakpoint
      "before": ["leader", "d"],
      "commands": ["editor.debug.action.toggleBreakpoint"]
    },
    { "before": ["#"], "after": ["@", "@"] }, // Repat last macro
    {
      // Toggle File Explorer
      "before": ["leader", "e"],
      "commands": ["yazi-vscode.toggle"]
    },
    {
      // Toggle lazygit
      "before": ["g", "l"],
      "commands": ["lazygit-vscode.toggle"]
    },

    // ╭──────────────────────────────────────────────────────────╮
    // │ LSP shorcuts                                             │
    // ╰──────────────────────────────────────────────────────────╯
    { "before": ["g", "r", "n"], "commands": ["editor.action.rename"] }, // Rename variable
    { "before": ["g", "r", "a"], "commands": ["editor.action.quickFix"] }, // Code action / Quick fix
    { "before": ["g", "r", "r"], "commands": ["editor.action.goToReferences"] }, // Go to references

    // ╭──────────────────────────────────────────────────────────╮
    // │ Tab management                                           │
    // ╰──────────────────────────────────────────────────────────╯
    { "before": ["C-p"], "commands": ["workbench.action.nextEditor"] }, // Go to next tab
    { "before": ["C-n"], "commands": ["workbench.action.previousEditor"] }, // Go to previous tab
    {
      // Open new tab
      "before": ["leader", "n", "t"],
      "commands": ["workbench.action.files.newUntitledFile"]
    },
    {
      // Close active tab
      "before": ["leader", "x"],
      "commands": ["workbench.action.closeActiveEditor"]
    },
    {
      // Reopen closed tab
      "before": ["leader", "u"],
      "commands": ["workbench.action.reopenClosedEditor"]
    },

    // ╭──────────────────────────────────────────────────────────╮
    // │ Window tiling                                            │
    // ╰──────────────────────────────────────────────────────────╯
    {
      // Split editor up
      "before": ["leader", "s", "k"],
      "commands": ["workbench.action.splitEditorUp"]
    },
    {
      // Split editor down
      "before": ["leader", "s", "j"],
      "commands": ["workbench.action.splitEditorDown"]
    },
    {
      // Split editor left
      "before": ["leader", "s", "h"],
      "commands": ["workbench.action.splitEditorLeft"]
    },
    {
      // Split editor right
      "before": ["leader", "s", "l"],
      "commands": ["workbench.action.splitEditorRight"]
    },

    // ╭──────────────────────────────────────────────────────────╮
    // │ Window navigation                                        │
    // ╰──────────────────────────────────────────────────────────╯
    { "before": ["C-k"], "commands": ["workbench.action.navigateUp"] }, // Move editor up
    { "before": ["C-j"], "commands": ["workbench.action.navigateDown"] }, // Move editor down
    { "before": ["C-h"], "commands": ["workbench.action.navigateLeft"] }, // Move editor left
    { "before": ["C-l"], "commands": ["workbench.action.navigateRight"] }, // Move editor right

    // ╭──────────────────────────────────────────────────────────╮
    // │ Toggle panels                                            │
    // ╰──────────────────────────────────────────────────────────╯
    {
      // Toggle bottom panel
      "before": ["leader", "t", "j"],
      "commands": ["workbench.action.togglePanel"]
    },
    {
      // Toggle left sidebar
      "before": ["leader", "t", "h"],
      "commands": ["workbench.action.toggleSidebarVisibility"]
    },
    {
      // Toggle right sidebar
      "before": ["leader", "t", "l"],
      "commands": ["workbench.action.toggleAuxiliaryBar"]
    },

    // ╭──────────────────────────────────────────────────────────╮
    // │ Compile & Run & Debug                                    │
    // ╰──────────────────────────────────────────────────────────╯
    // The commands are normally like this:
    // leader + leader + ([c]ompile/[r]un/[d]ebug) + *first letter of language*
    // For example:
    // leader + leader + r + c   -> Will run a c file
    // Legend for what language which shortcut:
    // c/c++    -> c
    // CMake    -> m
    // go       -> g
    // java     -> j
    // python   -> p
    // rust     -> r

    // C / C++
    {
      "before": ["leader", "leader", "d", "c"],
      "commands": ["C_Cpp.BuildAndDebugFile"]
    },
    {
      "before": ["leader", "leader", "r", "c"],
      "commands": ["C_Cpp.BuildAndRunFile"]
    },

    // CMake
    {
      "before": ["leader", "leader", "s", "m"],
      "commands": ["cmake.selectLaunchTarget"]
    },
    {
      "before": ["leader", "leader", "r", "m"],
      "commands": ["cmake.launchTarget"]
    },
    {
      "before": ["leader", "leader", "b", "m"],
      "commands": ["cmake.build"]
    },

    // LaTeX
    {
      "before": ["leader", "l", "c"],
      "commands": ["latex-workshop.build"]
    },
    {
      // Go to PDF location
      "before": ["leader", "l", "p"],
      "commands": ["latex-workshop.synctex"]
    },

    // Python
    {
      "before": ["leader", "leader", "d", "p"],
      "commands": ["debugpy.debugInTerminal"]
    },
    {
      "before": ["leader", "leader", "r", "p"],
      "commands": ["python.execInTerminal-icon"]
    },

    // ╭──────────────────────────────────────────────────────────╮
    // │ Other commands                                           │
    // ╰──────────────────────────────────────────────────────────╯
    {
      // Show command palette
      "before": ["leader", ":"],
      "commands": ["workbench.action.showCommands"]
    },
    { "before": ["leader", "/"], "commands": ["actions.find"] }, // Local search (or in file search)
    {
      // Find files
      "before": ["leader", "f", "f"],
      "commands": ["workbench.action.quickOpen"]
    },
    {
      // Global search
      "before": ["leader", "f", "c"],
      "commands": ["workbench.action.findInFiles"]
    },
    {
      // Change color scheme
      "before": ["leader", "f", "t"],
      "commands": ["workbench.action.selectTheme"]
    },
    {
      // Open register
      "before": ["leader", "f", "r"],
      "after": [":", "r", "e", "g", "enter"]
    },
    {
      // Open marks
      "before": ["leader", "f", "m"],
      "after": [":", "m", "a", "r", "k", "s", "enter"]
    },
    {
      // Switch tabs
      "before": ["leader", "s", "t"],
      "commands": [
        "workbench.action.quickOpenPreviousRecentlyUsedEditorInGroup"
      ]
    },

    // ╭──────────────────────────────────────────────────────────╮
    // │ Disable cutting                                          │
    // ╰──────────────────────────────────────────────────────────╯
    // (Doesn't work, VSCODE will freeze)
    {
      // "before": ["x"],
      // "after": [ "\"", "_", "x" ]
    }
  ],
  "workbench.preferredDarkColorTheme": "Catppuccin Mocha",
  "editor.bracketPairColorization.enabled": false,
  "editor.experimental.preferTreeSitter.css": true,
  "editor.experimental.preferTreeSitter.ini": true,
  "editor.experimental.preferTreeSitter.regex": true,
  "editor.experimental.preferTreeSitter.typescript": true,
  "editor.gotoLocation.alternativeDefinitionCommand": "editor.action.goToTypeDefinition",
  "editor.lightbulb.enabled": "off",
  "workbench.settings.editor": "json",
  "terminal.external.linuxExec": "ghostty",
  "terminal.integrated.gpuAcceleration": "on",
  "terminal.integrated.smoothScrolling": true,
  "notebook.lineNumbers": "on",
  "update.mode": "manual",
  "telemetry.feedback.enabled": false,
  "security.workspace.trust.enabled": false,
  "terminal.integrated.enableImages": true,
  "security.workspace.trust.startupPrompt": "never",
  "breadcrumbs.enabled": false,
  "github.copilot.nextEditSuggestions.fixes": false,
  "github.copilot.enable": {
    "*": false,
    "plaintext": false,
    "markdown": false,
    "scminput": false,
    "java": false
  },
  "debug.showVariableTypes": true,
  "chat.tools.terminal.autoApprove": {
    "make": true,
    "mvn test": true,
    "mvn compile": true
  },
  "inlineChat.lineNaturalLanguageHint": false
}
